import{d as v,r as n,x as E,z as S,O as w,y,A as u,U as D,w as _,N as A,S as C}from"./globals.c01e0dc8.js";const $=v({name:"GuideDisplay",delimiters:["${","}"]}),h=v({...$,props:{enableInlineEditor:Boolean,guideDisplay:{type:String,required:!0},guideNavData:String,startInInlineEditor:{type:Boolean,required:!1},teleportContainerClass:String,teleportMethod:String,teleportSelector:String},setup(t){const l=t,a=n(""),i=n({}),d=n(!1),o=n(l.guideNavData?JSON.parse(l.guideNavData):[]),r=n(""),b=n(!1),c=n(!1);E(()=>l.teleportSelector?`#teleport-${l.guideDisplay}`:null),S&&o.value.forEach(e=>{i.value[e.slug]={boolean1:!1,boolean2:!1,boolean3:!1,boolean4:!1,boolean5:!1,number1:0,number2:0,number3:0,number4:0,number5:0,string1:"",string2:"",string3:"",string4:"",string5:""}});function g(){r.value=window.location.hash.substr(1)}function f(e){u(`Turning TLDR: ${e?"on":"off"}`),c.value=e,document.querySelectorAll(".tldr-show").forEach(s=>{e?s.removeAttribute("hidden"):s.setAttribute("hidden","hidden")}),document.querySelectorAll(".tldr-hide").forEach(s=>{e?s.setAttribute("hidden","hidden"):s.removeAttribute("hidden")}),localStorage.setItem("guide:display:tldr",e?"true":"false")}function p(){if(a.value){const e=document.querySelector(`.guide-${a.value} .tldr-hide, .guide-${a.value} .tldr-show, .guide-${a.value} [class^="tldr:"]`);u(`.guide-${a.value}`,e),d.value=e!==null}}return w(()=>{var e;(e=o.value)!=null&&e.length&&(a.value=o.value[0].slug),b.value=l.startInInlineEditor}),y(()=>{p(),f(localStorage.getItem("guide:display:tldr")==="true"),window.addEventListener("hashchange",g),u("GuideDisplay loaded")}),D(()=>{window.removeEventListener("hashchange",g)}),_(a,()=>{A(()=>{p(),f(c.value)})}),()=>{}}});const m=document.querySelectorAll("[data-guide-display]");m&&m.forEach(t=>{var l,a,i,d;if((l=t.dataset)!=null&&l.guideDisplay){if((a=t.dataset)!=null&&a.teleportSelector){const o=document.querySelector(t.dataset.teleportSelector);if(o){const r=document.createElement("div");r.id=`teleport-${t.dataset.guideDisplay}`,(i=t.dataset)!=null&&i.teleportContainerClass&&r.setAttribute("class",t.dataset.teleportContainerClass),((d=t.dataset)==null?void 0:d.teleportMethod)==="append"?o.appendChild(r):o.insertBefore(r,o.firstChild)}}h.template=`#${t.dataset.guideDisplay}`,C({...h},t.dataset).mount(t)}});
