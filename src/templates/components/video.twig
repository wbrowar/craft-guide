{% extends 'guide/_partials/render_component.twig' %}

{% if source == 'youtube' %}
  {% set attributes = {
    allowfullscreen: true,
    loading: 'lazy',
    src: 'https://www.youtube.com/embed/' ~ videoId ~ '?rel=0&amp;controls=' ~ (controls ?? false ? '1' : '0') ~ '&amp;showinfo=0',
    width: 1600,
    height: 900,
  } %}
  {% set element = 'iframe' %}
{% elseif source == 'vimeo' %}
  {% set attributes = {
    allowfullscreen: true,
    loading: 'lazy',
    mozallowfullscreen: true,
    src: 'https://player.vimeo.com/video/' ~ videoId ~ '?title=0&byline=0&portrait=0',
    width: 1600,
    height: 900,
    webkitallowfullscreen: true,
  } %}
  {% set element = 'iframe' %}
{% else %}
  {% set attributes = {
    autoplay: autoplay ?? null,
    controls: controls ?? null,
    loop: loop ?? null,
    muted: muted ?? null,
    playsinline: playsinline ?? null,
    poster: poster ?? null,
    src: src ?? url ?? null,
  } %}
  {% set element = 'video' %}
{% endif %}