{# /**
 * Guide plugin for Craft CMS
 *
 * Guide Widget Body
 *
 * @author    Will Browar
 * @copyright Copyright (c) 2019 Will Browar
 * @link      https://wbrowar.com
 * @package   Guide
 * @since     2.0.0
 */ #}

{% extends "_layouts/cp" %}

{# The title of this CP section #}
{% set title = "Guide"|t('guide') %}

{% if cpNavPlacements ?? false %}
  {% set guides = craft.guide.getAll({ id: cpNavPlacements }) %}
{% endif %}

{% set content %}
  {% if guides ?? false %}
    {% include 'guide/_partials/guide_display.twig' with { guideDisplayArea: 'guide', displayId: 'nav', guides: guides } only %}
{#  {% elseif userOperations.editGuides %}#}
{#    {% redirect 'guide/list' %}#}
  {% else %}
    <guide-welcome></guide-welcome>
    {{ 'Welcome to Guide! To get started you’ll need to head to Settings and configure a few things there. You can then use the Guides page to create your guides and then use the Organizer to move them around Craft’s Control Panel.'|t('guide') }}

{#    {% dd welcomeAssets %}#}

    {% if welcomeAssets['css'] ?? false %}
      {% css welcomeAssets['css'] %}
    {% endif %}

    {% if welcomeAssets['js'] ?? false %}
      {% js welcomeAssets['js'] with {
        type: 'module'
      } %}
    {% endif %}
  {% endif %}
{% endset %}
